{"version":3,"sources":["../node_modules/gps-util/lib sync /^/.//.*/.js$","components/Map/mapService.ts","store/locations.ts","lib/get.ts","components/Map/Map.tsx","components/LocationItem.tsx","components/LocationList.tsx","store/store.ts","components/Divider.tsx","components/TotalDistance.tsx","components/DownloadButton.tsx","App.js","serviceWorker.js","index.js","components/Map/circle.png"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","console","log","circleSrc","polyline","accessToken","process","markers","remove","a","initialState","get","key","Map","createRef","nextProps","b","nextIds","locations","ids","this","props","length","every","item","index","points","forEach","L","color","weight","addTo","setPolyline","point","i","title","push","marker","icon","DivIcon","className","html","alt","setMarker","current","addLocation","parentElement","onClick","seitseminenFinnishNationalPark","LatLng","setView","tileLayer","attribution","maxZoom","tileSize","zoomOffset","on","init","ref","Component","connect","dispatch","location","latlng","type","payload","uuid","LocationItem","orderNro","draggable","stopDead","event","preventDefault","stopPropagation","dragStart","draggedId","target","dataTransfer","setData","JSON","stringify","onDrop","move","parse","getData","targetId","removeLocation","fromId","toId","reorderLocation","onDragStart","onDragOver","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","combineReducers","state","action","concat","removedId","filter","fromIndex","findIndex","toIndex","from","to","newState","splice","applyMiddleware","reduxThunk","Divider","Math","round","gps","toFixed","removeTime","gpx","time","split","toISOString","join","Date","Promise","reject","err","result","link","useRef","isClicked","href","download","locationsToGPX","then","gpxFileData","anchor","setAttribute","click","setTimeout","App","store","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.3caf6a38.chunk.js","sourcesContent":["var map = {\n\t\"./calc.js\": 108,\n\t\"./constants.js\": 56,\n\t\"./creator.js\": 109,\n\t\"./distance.js\": 57,\n\t\"./exiftool.js\": 82,\n\t\"./formatter.js\": 156,\n\t\"./geohash.js\": 157,\n\t\"./gpx-parser.js\": 58,\n\t\"./image.js\": 158,\n\t\"./speed.js\": 55,\n\t\"./tcx-parser.js\": 159,\n\t\"./time.js\": 29\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 107;","import L from 'leaflet';\nimport circleSrc from './circle.png';\nconsole.log(circleSrc);\nconst accessToken = process.env.REACT_APP_MAP_KEY;\n\ninterface MapOptions {\n    parentElement: HTMLElement,\n    onClick: (e: L.LeafletMouseEvent) => void\n}\n\nlet map: L.Map;\nlet polyline: L.Polyline;\nconst markers: L.Marker[] = [];\n\nconst remove = (a: { remove: Function }) => a.remove();\n\nexport function getMap(): L.Map {\n    if (!map) {\n        throw new Error('Initialize the map first.');\n    };\n\n    return map;\n}\n\nexport function setPolyline(points: L.LatLng[]) {\n    polyline = L\n        .polyline(points, { color: '#1086e8', weight: 5 })\n        .addTo(map);\n}\n\nexport function setMarker(point: L.LatLng, title: number | string) {\n    markers.push(L.marker(point, {\n        icon: new L.DivIcon({\n            className: 'my-div-icon',\n            html: `<div style=\"margin:-5px 0 0 -5px;background-color:#000;color:#fff;font-size: 17px;font-weight:bold;border-radius: 100px;width:25px;height:25px;padding:0 0 0 7px;box-sizing:border-box;\">${title}</div>`\n        }),\n        title: `Waypoint ${title}`,\n        alt: `Waypoint ${title}`\n    }).addTo(map));\n}\n\nexport function clearPolyline() {\n    if (polyline) {\n        polyline.remove();\n    }\n}\n\nexport function clearMarkers() {\n    markers.forEach(remove);\n    markers.length = 0;\n}\n\nexport function init({ parentElement, onClick }: MapOptions) {\n    if (map) {\n        // Already initialized.\n        return;\n    }\n\n    const seitseminenFinnishNationalPark = new L.LatLng(61.9697, 23.3614);\n    map = L.map(parentElement).setView(seitseminenFinnishNationalPark, 12);\n\n    L\n        .tileLayer(`https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=${accessToken}`, {\n            attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n            maxZoom: 18,\n            id: 'mapbox/streets-v11',\n            tileSize: 512,\n            zoomOffset: -1,\n            accessToken\n        })\n        .addTo(map);\n\n    map.on('click', onClick);\n};\n","import { v4 as uuid } from 'uuid';\nimport { Action, Location, LocationMove, LocationId } from './types';\n\nconst initialState: Location[] = [];\n\nconst CREATE_LOCATION = 'LOCATION::CREATE';\nconst REMOVE_LOCATION = 'LOCATION::REMOVE';\nconst REORDER_LOCATION = 'LOCATION::REORDER';\n\nexport const createLocation = (location: Partial<Location>) => ({\n    type: CREATE_LOCATION,\n    payload: {\n        ...location,\n        id: uuid()\n    }\n});\n\nexport const removeLocation = (id: LocationId) => ({\n    type: REMOVE_LOCATION,\n    payload: id\n});\n\nexport const reorderLocation = (fromId: LocationId, toId: LocationId) => ({\n    type: REORDER_LOCATION,\n    payload: { fromId, toId }\n})\n\nexport default (state = initialState, action: Action<Location | LocationMove | LocationId>) => {\n    switch (action.type) {\n        case CREATE_LOCATION:\n            return state.concat(action.payload as Location);\n        case REMOVE_LOCATION:\n            const removedId = action.payload as LocationId;\n            return state.filter(({ id }: Location) => id !== removedId);\n        case REORDER_LOCATION:\n            const { fromId, toId } = action.payload as LocationMove;\n            const fromIndex = state.findIndex(({ id }: Location) => id === fromId);\n            const toIndex = state.findIndex(({ id }: Location) => id === toId);\n\n            if (fromIndex === -1 || toIndex === -1) {\n                return state;\n            }\n\n            const from = state[fromIndex];\n            const to = state[toIndex];\n            const newState = [...state];\n            newState.splice(toIndex, 1, from);\n            newState.splice(fromIndex, 1, to);\n            return newState;\n        default:\n            return state;\n    }\n};\n","export default function get(key: string) {\n    return (o: any): any => o[key];\n}\n","import React, { Component, createRef } from 'react';\nimport { connect } from 'react-redux';\nimport { clearMarkers, clearPolyline, init, setMarker, setPolyline } from './mapService';\nimport './Map.css';\nimport { StoreState, Location } from '../../store/types';\nimport { createLocation } from '../../store/locations';\nimport get from '../../lib/get';\n\ninterface State {\n\n}\n\ninterface Props {\n    locations: Location[],\n    addLocation: (e: L.LeafletMouseEvent) => void\n}\n\nfunction isSame<T>(a: T[], b: T[]): boolean {\n    return a.length === b.length && a.every((item, index) => item === b[index]);\n}\nclass Map extends Component<Props, State> {\n    map = createRef<HTMLDivElement>();\n\n    shouldComponentUpdate(nextProps: Props) {\n        const nextIds = nextProps.locations.map(get(\"id\"));\n        const ids = this.props.locations.map(get('id'));\n\n        if (!isSame(nextIds, ids)) {\n            const points = nextProps.locations.map(get(\"latlng\"));\n            clearPolyline();\n            clearMarkers();\n\n            setPolyline(points);\n            points.forEach((point, i) => setMarker(point, i + 1));\n        }\n\n        return false;\n    }\n\n    componentDidMount() {\n        if (!this.map.current) {\n            return;\n        }\n        const { addLocation } = this.props;\n\n        init({\n            parentElement: this.map.current,\n            onClick: addLocation\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"map\" ref={this.map}>Map</div>\n        )\n    }\n}\n\nexport default connect(\n    ({ locations }: StoreState) => ({\n        locations\n    }),\n    (dispatch) => ({\n        addLocation: ({ latlng }: L.LeafletMouseEvent) => dispatch(createLocation({\n            latlng\n        }))\n    })\n)(Map);\n","import React, { MouseEvent } from 'react';\nimport { Location } from '../store/types';\nimport './LocationItem.css';\n\ninterface Props {\n    location: Location,\n    orderNro: number,\n    onClick: (event: MouseEvent) => void,\n}\n\nexport default function LocationItem({\n    location,\n    orderNro,\n    onClick,\n}: Props) {\n    return (\n      <li className=\"location-item fa-ul\" id={location.id} draggable>\n        <span className=\"fa-li\">\n          <i className=\"fas fa-bars\"></i>\n        </span>\n        Waypoint {orderNro}\n        <button className=\"fa fa-trash\" onClick={onClick}></button>\n      </li>\n    );\n}\n","import React, { DragEvent } from \"react\";\nimport { connect } from 'react-redux';\nimport { removeLocation, reorderLocation } from \"../store/locations\";\nimport { Location, LocationId, StoreState } from \"../store/types\";\nimport LocationItem from './LocationItem'\nimport './LocationList.css';\n\nconst dataTransferFormat = 'text/plain';\n\ninterface Props {\n    locations: Location[],\n    move: (fromId: LocationId, toId: LocationId) => void,\n    remove: (id: LocationId) => () => void,\n}\n\nfunction stopDead(event: DragEvent<HTMLUListElement>) {\n  event.preventDefault();\n  event.stopPropagation();\n}\n\nfunction dragStart(event: DragEvent<HTMLUListElement>) {\n    const { id: draggedId } = event.target as HTMLLIElement;\n    event.dataTransfer.setData(dataTransferFormat, JSON.stringify({ draggedId }));\n}\n\nfunction onDrop(move: (fromId: LocationId, toId: LocationId) => void): (event: DragEvent<HTMLUListElement>) => void {\n    return (event: DragEvent<HTMLUListElement>) => {\n        const { draggedId } = JSON.parse(event.dataTransfer.getData(dataTransferFormat));\n        const target = event.target as HTMLUListElement;\n        const { id: targetId } = target;\n\n        if (target.className === 'location-list' || targetId === draggedId) {\n            return;\n        }\n\n        move(draggedId, targetId);\n    };\n}\n\nfunction LocationList({ locations, remove, move }: Props) {\n    if (!locations.length) {\n        return <p>Click map to add waypoints.</p>;\n    }\n\n    return (\n        <ul\n            className=\"location-list\"\n            onDragStart={dragStart}\n            onDragOver={stopDead}\n            onDrop={onDrop(move)}\n        >\n            {\n                locations\n                    .map((location, index) => (\n                        <LocationItem\n                            key={location.id}\n                            location={location}\n                            orderNro={index + 1}\n                            onClick={remove(location.id)}\n                        />\n                    ))\n            }\n        </ul>\n    );\n}\n\nexport default connect(\n  ({ locations }: StoreState) => ({ locations }),\n  (dispatch) => ({\n    remove: (id: LocationId) => () => dispatch(removeLocation(id)),\n    move: (fromId: LocationId, toId: LocationId) => dispatch(reorderLocation(fromId, toId))\n  })\n)(LocationList);\n","import { applyMiddleware, createStore, compose, combineReducers } from 'redux';\nimport locations from './locations';\nimport reduxThunk from 'redux-thunk';\n\ndeclare global {\n    interface Window {\n        __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\n    }\n}\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport default createStore(\n    combineReducers({\n        locations\n    }),\n    composeEnhancers(applyMiddleware(reduxThunk))\n);\n","import React from 'react';\nimport './Divider.css';\n\nexport default function Divider() {\n    return <div className=\"divider\"></div>;\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Location, StoreState } from '../store/types';\nimport * as gps from 'gps-util';\nimport get from '../lib/get';\n\ninterface Props {\n    locations: Location[]\n}\n\nfunction TotalDistance({ locations }: Props) {\n    return (\n        <p>\n            Distance: {\n                (Math.round(gps.getTotalDistance(locations.map(get('latlng')))) / 1000).toFixed(1)\n            } km\n        </p>\n    );\n}\n\nexport default connect(\n    ({ locations }: StoreState) => ({\n        locations\n    })\n)(TotalDistance);\n","import React, { MouseEvent, useRef } from 'react';\nimport * as gps from \"gps-util\";\nimport get from \"../lib/get\";\nimport { Location, StoreState } from '../store/types';\nimport { connect } from 'react-redux';\nimport './DownloadButton.css';\n\nfunction defer(fn: Function) {\n    setTimeout(fn, 100);\n}\n\nfunction removeTime(gpx: string, time: Date): string {\n  return gpx.split(`<time>${time.toISOString()}</time>`).join(\"\");\n}\n\nasync function locationsToGPX(locations: Location[]) {\n    const time = new Date();\n\n    const points = locations\n        .map(get(\"latlng\"))\n        .map((point, i) => ({\n            ...point,\n            time\n        }));\n\n    return new Promise((resolve, reject) =>\n        gps.toGPX(\n            { points },\n            (err: Error, result: string) => err ? reject(err) : resolve(removeTime(result, time)),\n        \"route.gpx\"\n        )\n    );\n}\n\ninterface Props {\n    locations: Location[]\n}\n\nfunction DownloadButton ({ locations }: Props) {\n    const link = useRef(null);\n\n    let isClicked = false;\n\n    const download = (event: MouseEvent<HTMLAnchorElement>) => {\n        if (isClicked) {\n            return;\n        }\n\n        event.preventDefault();\n        isClicked = true;\n\n        locationsToGPX(locations)\n            .then(result => {\n                const gpxFileData = `data:text/plain;charset=utf-8,${result}`;\n\n                const anchor = link.current! as HTMLAnchorElement;\n                (anchor).setAttribute('href', gpxFileData);\n\n                anchor.click();\n                defer(() => isClicked = false);\n            });\n    };\n\n    return (\n        <a\n            type=\"button\"\n            href=\"/\"\n            download=\"your-route.gpx\"\n            ref={link}\n            className=\"download-button to-bottom\"\n            onClick={download}\n        >\n        Download your Route\n      </a>\n    );\n}\n\nexport default connect(\n    ({ locations }: StoreState) => ({\n        locations\n    })\n)(DownloadButton);\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport Map from './components/Map/Map';\nimport LocationList from './components/LocationList';\nimport store from './store/store';\nimport Divider from './components/Divider';\nimport TotalDistance from './components/TotalDistance';\nimport DownloadButtom from './components/DownloadButton';\nimport '@fortawesome/fontawesome-free/css/all.css';\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Provider store={store}>\n        <menu>\n          <h1>Route Builder</h1>\n          <Divider />\n\n          <TotalDistance />\n          <LocationList />\n\n          <DownloadButtom />\n        </menu>\n\n        <Map />\n      </Provider>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}