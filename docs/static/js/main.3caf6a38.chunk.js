(this["webpackJsonproute-builder"]=this["webpackJsonproute-builder"]||[]).push([[0],{103:function(t,e,n){},104:function(t,e,n){},105:function(t,e,n){},106:function(t,e,n){},107:function(t,e,n){var a={"./calc.js":108,"./constants.js":56,"./creator.js":109,"./distance.js":57,"./exiftool.js":82,"./formatter.js":156,"./geohash.js":157,"./gpx-parser.js":58,"./image.js":158,"./speed.js":55,"./tcx-parser.js":159,"./time.js":29};function o(t){var e=r(t);return n(e)}function r(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}o.keys=function(){return Object.keys(a)},o.resolve=r,t.exports=o,o.id=107},115:function(t,e){},117:function(t,e){},140:function(t,e){},142:function(t,e){},161:function(t,e,n){},163:function(t,e,n){},164:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),r=n(27),i=n.n(r),c=(n(97),n(10)),u=n(84),l=n(85),s=n(91),f=n(89),p=n(18),d=n.n(p),m=n(86),v=n.n(m);console.log(v.a);var b,h,A="pk.eyJ1IjoidmlsamFtIiwiYSI6ImNrZTZ3dW5zMTFoNHAzMG9iNHF3eXB5bDMifQ.bL5ZLCboOojYHfzxWmVO9g",O=[],g=function(t){return t.remove()};n(103);var E=n(90),w=n(22),R=n(166),N=[];function C(t){return function(e){return e[t]}}var x=function(t){Object(s.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(u.a)(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).map=Object(a.createRef)(),t}return Object(l.a)(n,[{key:"shouldComponentUpdate",value:function(t){var e,n,a=t.locations.map(C("id")),o=this.props.locations.map(C("id"));if(n=o,(e=a).length!==n.length||!e.every((function(t,e){return t===n[e]}))){var r=t.locations.map(C("latlng"));h&&h.remove(),O.forEach(g),O.length=0,function(t){h=d.a.polyline(t,{color:"#1086e8",weight:5}).addTo(b)}(r),r.forEach((function(t,e){return function(t,e){O.push(d.a.marker(t,{icon:new d.a.DivIcon({className:"my-div-icon",html:'<div style="margin:-5px 0 0 -5px;background-color:#000;color:#fff;font-size: 17px;font-weight:bold;border-radius: 100px;width:25px;height:25px;padding:0 0 0 7px;box-sizing:border-box;">'.concat(e,"</div>")}),title:"Waypoint ".concat(e),alt:"Waypoint ".concat(e)}).addTo(b))}(t,e+1)}))}return!1}},{key:"componentDidMount",value:function(){if(this.map.current){var t=this.props.addLocation;!function(t){var e=t.parentElement,n=t.onClick;if(!b){var a=new d.a.LatLng(61.9697,23.3614);b=d.a.map(e).setView(a,12),d.a.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=".concat(A),{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery \xa9 <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:A}).addTo(b),b.on("click",n)}}({parentElement:this.map.current,onClick:t})}}},{key:"render",value:function(){return o.a.createElement("div",{className:"map",ref:this.map},"Map")}}]),n}(a.Component),j=Object(c.b)((function(t){return{locations:t.locations}}),(function(t){return{addLocation:function(e){var n,a=e.latlng;return t((n={latlng:a},{type:"LOCATION::CREATE",payload:Object(w.a)(Object(w.a)({},n),{},{id:Object(R.a)()})}))}}}))(x);n(104);function I(t){var e=t.location,n=t.orderNro,a=t.onClick;return o.a.createElement("li",{className:"location-item fa-ul",id:e.id,draggable:!0},o.a.createElement("span",{className:"fa-li"},o.a.createElement("i",{className:"fas fa-bars"})),"Waypoint ",n,o.a.createElement("button",{className:"fa fa-trash",onClick:a}))}n(105);function M(t){t.preventDefault(),t.stopPropagation()}function k(t){var e=t.target.id;t.dataTransfer.setData("text/plain",JSON.stringify({draggedId:e}))}function P(t){return function(e){var n=JSON.parse(e.dataTransfer.getData("text/plain")).draggedId,a=e.target,o=a.id;"location-list"!==a.className&&o!==n&&t(n,o)}}var X=Object(c.b)((function(t){return{locations:t.locations}}),(function(t){return{remove:function(e){return function(){return t(function(t){return{type:"LOCATION::REMOVE",payload:t}}(e))}},move:function(e,n){return t(function(t,e){return{type:"LOCATION::REORDER",payload:{fromId:t,toId:e}}}(e,n))}}}))((function(t){var e=t.locations,n=t.remove,a=t.move;return e.length?o.a.createElement("ul",{className:"location-list",onDragStart:k,onDragOver:M,onDrop:P(a)},e.map((function(t,e){return o.a.createElement(I,{key:t.id,location:t,orderNro:e+1,onClick:n(t.id)})}))):o.a.createElement("p",null,"Click map to add waypoints.")})),T=n(17),W=n(87),y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||T.d,z=Object(T.e)(Object(T.c)({locations:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"LOCATION::CREATE":return t.concat(e.payload);case"LOCATION::REMOVE":var n=e.payload;return t.filter((function(t){return t.id!==n}));case"LOCATION::REORDER":var a=e.payload,o=a.fromId,r=a.toId,i=t.findIndex((function(t){return t.id===o})),c=t.findIndex((function(t){return t.id===r}));if(-1===i||-1===c)return t;var u=t[i],l=t[c],s=Object(E.a)(t);return s.splice(c,1,u),s.splice(i,1,l),s;default:return t}}}),y(Object(T.a)(W.a)));n(106);function J(){return o.a.createElement("div",{className:"divider"})}var D=n(28);var F=Object(c.b)((function(t){return{locations:t.locations}}))((function(t){var e=t.locations;return o.a.createElement("p",null,"Distance: ",(Math.round(D.getTotalDistance(e.map(C("latlng"))))/1e3).toFixed(1)," km")})),H=n(53),S=n.n(H),Z=n(88);n(161);function Y(t,e){return t.split("<time>".concat(e.toISOString(),"</time>")).join("")}function L(){return(L=Object(Z.a)(S.a.mark((function t(e){var n,a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Date,a=e.map(C("latlng")).map((function(t,e){return Object(w.a)(Object(w.a)({},t),{},{time:n})})),t.abrupt("return",new Promise((function(t,e){return D.toGPX({points:a},(function(a,o){return a?e(a):t(Y(o,n))}),"route.gpx")})));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var U=Object(c.b)((function(t){return{locations:t.locations}}))((function(t){var e=t.locations,n=Object(a.useRef)(null),r=!1;return o.a.createElement("a",{type:"button",href:"/",download:"your-route.gpx",ref:n,className:"download-button to-bottom",onClick:function(t){r||(t.preventDefault(),r=!0,function(t){return L.apply(this,arguments)}(e).then((function(t){var e="data:text/plain;charset=utf-8,".concat(t),a=n.current;a.setAttribute("href",e),a.click(),setTimeout((function(){return r=!1}),100)})))}},"Download your Route")}));n(162),n(163);var q=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(c.a,{store:z},o.a.createElement("menu",null,o.a.createElement("h1",null,"Route Builder"),o.a.createElement(J,null),o.a.createElement(F,null),o.a.createElement(X,null),o.a.createElement(U,null)),o.a.createElement(j,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},86:function(t,e){t.exports="data:image/png;base64,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"},92:function(t,e,n){t.exports=n(164)},97:function(t,e,n){}},[[92,1,2]]]);
//# sourceMappingURL=main.3caf6a38.chunk.js.map